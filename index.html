<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CourseHub - تعلم واحصل على شهادتك</title>
<meta name="description" content="CourseHub – تعلم أي مهارة، احصل على شهادتك، وابدأ رحلتك التعليمية الآن.">
<meta name="keywords" content="دورات, تعلم, شهادة, كورس, تطوير, تصميم, AI">

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Google Identity Services -->
<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>

<!-- Google Init -->
<div id="g_id_onload"
     data-client_id="367073521017-na5sqgdpp98hqrd6us63l4117l4vbacm.apps.googleusercontent.com"
     data-callback="handleGoogleLogin"
     data-auto_prompt="false">
</div>

<!-- Header -->
<header>
  <div class="top-bar container">
    <div class="logo">
      <img src="images/logo.png" alt="CourseHub Logo" class="site-logo" style="width:120px; height:auto;">
    </div>

    <nav>
      <a href="index.html">الرئيسية</a>
      <a href="courses.html">الدورات</a>
      <a href="tests.html">الاختبارات</a>
      <a href="certificates.html">الشهادات</a>
      <a href="login.html" id="login-link">تسجيل الدخول</a>
    </nav>

    <!-- User Info بعد تسجيل الدخول -->
    <div id="user-info" class="user-info-container"></div>
  </div>

  <!-- Search Bar -->
  <div class="search-bar container">
    <input type="text" id="searchInput" placeholder="ابحث عن دورة...">
    <button onclick="searchCourses()">
      <i class="fa fa-search"></i> بحث
    </button>
  </div>
</header>

<!-- Hero Section -->
<section class="hero">
  <div class="container hero-content">
    <h1>تعلم أي مهارة جديدة بسهولة</h1>
    <p>انضم إلى آلاف الطلاب وابدأ رحلتك التعليمية الآن!</p>
    <a href="courses.html" class="btn btn-hero">استكشف الدورات</a>
  </div>
</section>

<!-- Features -->
<section class="features container">
  <div class="feature">
    <i class="fa fa-users fa-2x"></i>
    <h3>آلاف الطلاب</h3>
    <p>انضم إلى مجتمع ضخم من المتعلمين من جميع أنحاء العالم.</p>
  </div>

  <div class="feature">
    <i class="fa fa-certificate fa-2x"></i>
    <h3>شهادات معتمدة</h3>
    <p>احصل على شهادة رسمية عند إتمام الدورة بنجاح.</p>
  </div>

  <div class="feature">
    <i class="fa fa-laptop-code fa-2x"></i>
    <h3>دورات احترافية</h3>
    <p>تعلم من محترفين وابدأ مسارك المهني بسرعة.</p>
  </div>
</section>

<!-- Popular Courses -->
<section class="popular-courses container">
  <h2>الدورات الأكثر شعبية</h2>

  <div class="categories">
    <button class="active" onclick="filterCategory('all')">الكل</button>
    <button onclick="filterCategory('web')">تطوير الويب</button>
    <button onclick="filterCategory('ai')">الذكاء الاصطناعي</button>
    <button onclick="filterCategory('design')">التصميم</button>
  </div>

  <div class="courses-grid" id="coursesGrid">
    <div class="card" data-category="web">
      <img src="images/course1.jpg" alt="Course">
      <div class="card-content">
        <h3>تطوير الويب للمبتدئين</h3>
        <div class="rating">
          <i class="fa fa-star"></i><i class="fa fa-star"></i>
          <i class="fa fa-star"></i><i class="fa fa-star-half-alt"></i>
          <span>(1200 طالب)</span>
        </div>
        <p>تعلم HTML و CSS و JavaScript خطوة بخطوة.</p>
        <a href="course-details.html" class="btn">عرض الدورة</a>
      </div>
    </div>

    <div class="card" data-category="ai">
      <img src="images/course2.jpg" alt="Course">
      <div class="card-content">
        <h3>الذكاء الاصطناعي</h3>
        <div class="rating">
          <i class="fa fa-star"></i><i class="fa fa-star"></i>
          <i class="fa fa-star"></i><i class="fa fa-star"></i>
          <span>(950 طالب)</span>
        </div>
        <p>ابدأ رحلتك مع تعلم الآلة والذكاء الاصطناعي.</p>
        <a href="course-details.html" class="btn">عرض الدورة</a>
      </div>
    </div>

    <div class="card" data-category="design">
      <img src="images/course3.jpg" alt="Course">
      <div class="card-content">
        <h3>التصميم الجرافيكي</h3>
        <div class="rating">
          <i class="fa fa-star"></i><i class="fa fa-star"></i>
          <i class="fa fa-star"></i><i class="fa fa-star"></i>
          <span>(800 طالب)</span>
        </div>
        <p>تعلم Photoshop و Illustrator من الصفر.</p>
        <a href="course-details.html" class="btn">عرض الدورة</a>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container footer-content">
    <div class="footer-links">
      <a href="index.html">الرئيسية</a>
      <a href="courses.html">الدورات</a>
      <a href="tests.html">الاختبارات</a>
      <a href="certificates.html">الشهادات</a>
      <a href="login.html" id="footer-login">تسجيل الدخول</a>
    </div>

    <div class="socials">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-linkedin-in"></i></a>
    </div>

    <p>&copy; 2026 CourseHub. جميع الحقوق محفوظة.</p>
  </div>
</footer>

<script src="main.js"></script>

<!-- Google Login & User Display -->
<script>
function handleGoogleLogin(response) {
  const jwt = response.credential;
  const payload = JSON.parse(atob(jwt.split('.')[1]));

  // حفظ بيانات المستخدم
  localStorage.setItem("coursehub_user", JSON.stringify({
    name: payload.name,
    email: payload.email,
    picture: payload.picture
  }));

  location.reload(); // إعادة تحميل لعرض اسم المستخدم
}

// عرض المستخدم في الهيدر إذا مسجل الدخول
const user = JSON.parse(localStorage.getItem("coursehub_user"));
if(user){
  document.getElementById('login-link').style.display = 'none';
  document.getElementById('footer-login').style.display = 'none';

  document.getElementById('user-info').innerHTML = `
    <div class="user-dropdown" onclick="goToProfile()">
      <img src="${user.picture}" alt="${user.name}" class="user-pic" style="width:40px; border-radius:50%; margin-left:10px; cursor:pointer;">
      <span style="cursor:pointer;">${user.name}</span>
      <div class="dropdown-menu" id="dropdown-menu">
        <a href="profile.html">حسابي</a>
        <a href="#" onclick="logout()">تسجيل الخروج</a>
      </div>
    </div>
  `;
}

// الذهاب لصفحة البروفايل عند الضغط
function goToProfile(){
  window.location.href = "profile.html";
}

function logout(){
  localStorage.removeItem("coursehub_user");
  location.reload();
}

// Dropdown Hover
document.addEventListener('click', function(e){
  const dropdown = document.getElementById('dropdown-menu');
  if(dropdown){
    if(!e.target.closest('.user-dropdown')){
      dropdown.style.display = 'none';
    }else{
      dropdown.style.display = 'block';
    }
  }
});
</script>
</body>
</html>
